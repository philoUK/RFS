{"version":3,"sources":["webpack:///./app/App.js","webpack:///./app/components/Products.js","webpack:///./app/components/ItemList.js","webpack:///./app/components/actions/items.js","webpack:///./app/components/store/configureStore.js","webpack:///./app/components/reducers/index.js","webpack:///./app/components/reducers/items.js"],"names":["PRODUCTS","category","price","stocked","name","store","document","getElementById","SearchBar","props","handleChange","bind","onUserInput","filterTextInput","value","inStockOnlyInput","checked","filterText","input","inStockOnly","ProductCategoryRow","ProductRow","product","color","ProductTable","rows","lastCategory","products","forEach","indexOf","push","FilterableProductTable","state","handleUserInput","setState","ItemList","fetchData","hasErrored","isLoading","items","map","item","id","label","mapStateToProps","itemsHasErrored","itemsIsLoading","mapDispatchToProps","dispatch","url","itemsFetchDataSuccess","itemsFetchData","bool","type","fetch","then","response","ok","Error","statusText","json","catch","configureStore","initialState","action"],"mappings":"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","file":"main.js","sourcesContent":["import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport {FilterableProductTable} from './components/Products'\r\nimport ItemList from './components/ItemList'\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './components/store/configureStore';\r\n\r\nvar PRODUCTS = [\r\n    {category: 'Sporting Goods', price: '£49.99', stocked: true, name: 'Football'},\r\n    {category: 'Sporting Goods', price: '£9.99', stocked: true, name: 'Cricket ball'},\r\n    {category: 'Sporting Goods', price: '£29.99', stocked: false, name: 'Basketball'},\r\n    {category: 'Electronics', price: '£99.99', stocked: true, name: 'iPod Touch'},\r\n    {category: 'Electronics', price: '£399.99', stocked: true, name: 'iPhone 5'},\r\n    {category: 'Electronics', price: '£199.99', stocked: true, name: 'Nexus 7'}\r\n];\r\n\r\nconst store = configureStore();\r\n\r\nrender((\r\n    <table>\r\n        <tbody>\r\n            <tr>\r\n                <td><FilterableProductTable products={PRODUCTS} /></td>\r\n                <td>\r\n                    <Provider store={store}>\r\n                        <ItemList />\r\n                    </Provider>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n), document.getElementById('root'))\n\n\n/** WEBPACK FOOTER **\n ** ./app/App.js\n **/","import React, { Component } from 'react';\r\n\r\nclass SearchBar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange() {\r\n        this.props.onUserInput(\r\n            this.filterTextInput.value,\r\n            this.inStockOnlyInput.checked\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form>\r\n                <input type=\"text\" placeholder=\"Search...\" value={this.props.filterText} ref={(input) => this.filterTextInput = input} onChange={this.handleChange} />\r\n                <p>\r\n                    <input type=\"checkbox\" checked={this.props.inStockOnly} ref={(input) => this.inStockOnlyInput = input} onChange={this.handleChange} />\r\n                    {' '}\r\n                    Only show products in stock\r\n                </p>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nclass ProductCategoryRow extends Component {\r\n    render() {\r\n        return <tr><th colSpan=\"2\">{this.props.category}</th></tr> ;\r\n    }\r\n}\r\n\r\nclass ProductRow extends Component {\r\n    render() {\r\n        var name = this.props.product.stocked ?\r\n            this.props.product.name :\r\n            <span style={{color: 'red'}}>\r\n                {this.props.product.name}\r\n            </span>;\r\n        return (\r\n            <tr>\r\n                <td>{name}</td>\r\n                <td>{this.props.product.price}</td>\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nclass ProductTable extends Component {\r\n    render() {\r\n        var rows = [];\r\n        var lastCategory = null;\r\n        this.props.products.forEach(product => {\r\n            if (product.name.indexOf(this.props.filterText) === -1 || (!product.stocked && this.props.inStockOnly)) {\r\n                return;\r\n            }\r\n            if (product.category !== lastCategory) {\r\n                rows.push(<ProductCategoryRow category={product.category} key={product.category} />);\r\n            }\r\n            rows.push(<ProductRow product={product} key={product.name} />);\r\n            lastCategory = product.category;\r\n        });\r\n        return (\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Price</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>{rows}</tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\n\r\nexport class FilterableProductTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            filterText: '',\r\n            inStockOnly: false\r\n        };\r\n\r\n        this.handleUserInput = this.handleUserInput.bind(this);\r\n    }\r\n\r\n    handleUserInput(filterText, inStockOnly) {\r\n        this.setState({\r\n            filterText: filterText,\r\n            inStockOnly: inStockOnly\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n               <SearchBar filterText={this.state.filterText} inStockOnly={this.state.inStockOnly} onUserInput={this.handleUserInput} />\r\n               <ProductTable products={this.props.products} filterText={this.state.filterText} inStockOnly={this.state.inStockOnly} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/Products.js\n **/","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { itemsFetchData } from './actions/items';\r\n\r\nclass ItemList extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchData('http://5826ed963900d612000138bd.mockapi.io/items');\r\n    }\r\n\r\n    render() {\r\n        if (this.props.hasErrored) {\r\n            return <p>Sorry! There was an error loading the items</p>;\r\n        }\r\n        if (this.props.isLoading) {\r\n            return <p>Loading</p>;\r\n        }\r\n        return (\r\n            <ul>\r\n                {this.props.items.map((item) => (\r\n                    <li key={item.id}>\r\n                        {item.label}\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        items: state.items,\r\n        hasErrored: state.itemsHasErrored,\r\n        isLoading: state.itemsIsLoading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchData: (url) => dispatch(itemsFetchData(url))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemList);\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/ItemList.js\n **/","export function itemsHasErrored(bool) {\r\n    return {\r\n        type: 'ITEMS_HAS_ERRORED',\r\n        hasErrored: bool\r\n    };\r\n}\r\n\r\nexport function itemsIsLoading(bool) {\r\n    return {\r\n        type: 'ITEMS_IS_LOADING',\r\n        isLoading: bool\r\n    };\r\n}\r\n\r\nexport function itemsFetchDataSuccess(items) {\r\n    return {\r\n        type: 'ITEMS_FETCH_DATA_SUCCESS',\r\n        items\r\n    };\r\n}\r\n\r\nexport function itemsFetchData(url) {\r\n    return (dispatch) => {\r\n        dispatch(itemsIsLoading(true));\r\n\r\n        fetch(url)\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw Error(response.statusText);\r\n                }\r\n                dispatch(itemsIsLoading(false));\r\n                return response;\r\n            })\r\n            .then((response) => response.json())\r\n            .then((items) => dispatch(itemsFetchDataSuccess(items)))\r\n            .catch(() => dispatch(itemsHasErrored(true)));\r\n    };\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/actions/items.js\n **/","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers';\r\n\r\nexport default function configureStore(initialState) {\r\n    return createStore(\r\n        rootReducer,\r\n        initialState,\r\n        applyMiddleware(thunk)\r\n    );\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/store/configureStore.js\n **/","import { combineReducers } from 'redux';\r\nimport { items, itemsHasErrored, itemsIsLoading } from './items';\r\n\r\nexport default combineReducers({\r\n    items,\r\n    itemsHasErrored,\r\n    itemsIsLoading\r\n});\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/reducers/index.js\n **/","export function itemsHasErrored(state = false, action) {\r\n    switch(action.type) {\r\n        case 'ITEMS_HAS_ERRORED':\r\n            return action.hasErrored;\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function itemsIsLoading(state = false, action) {\r\n    switch(action.type) {\r\n        case 'ITEMS_IS_LOADING':\r\n            return action.isLoading;\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function items(state = [], action) {\r\n    switch (action.type) {\r\n        case 'ITEMS_FETCH_DATA_SUCCESS':\r\n            return action.items;\r\n        default :\r\n            return state;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./app/components/reducers/items.js\n **/"],"sourceRoot":""}